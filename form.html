<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>(c)ync registration</title>
    <link rel="icon" type="image/x-icon" href="../assets/images/logo.png">
    <link rel="stylesheet" href="../css/form.css">
    <link rel="stylesheet" href="../css/navbar.css">
    <link rel="stylesheet" href="../css/cursor.css">
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6W6TE59BSZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6W6TE59BSZ');
</script>
</head>
<body>
    <div class="meow">
    <h1 class="register-title" id="register_title">REGISTER</h1>
    <div class="line" id="divider"></div>
    <nav class="navbar" style="position: absolute;">
        <a href="../index.html">
            <img src="../assets/images/logo.png" alt="Logo" class="logo">
        </a>
        <div class="hamburger" onclick="toggleMenu()">
            <div></div>
            <div></div>
            <div></div>
        </div>
        <ul class="navbar-links" id="navbar-links">
            <li><a href="../index.html">Event</a></li>
            <li class="dropdown">
                <a href="#members">MEMBERS</a>
                <ul class="dropdown-content">
                    <li style="--delay: 0s;"><a href="team.html">TEAM</a></li>
                    <li style="--delay: 0.1s;"><a href="alumni.html">ALUMNI</a></li>
                    <li style="--delay: 0.2s;"><a href="faculty.html">FACULTY</a></li>
                </ul>
            </li>
            <li><a href="contact.html">CONTACT</a></li>
        </ul>
    </nav>
    <script>
        function toggleMenu() {
            document.getElementById('navbar-links').classList.toggle('show');
            document.querySelector('.hamburger').classList.toggle('active');
        }
        </script>
    <div id="loading-screen" style="display: none;">
        <div class="loading-spinner"><span></span></div>
    </div>
    <div id="success-screen" style="display: none;">
        <h1>Thank you for registering!</h1>
        <h2>See you in cync v10</h2>            
    </div>
    <div class="container" id="FORM">
        <form action="https://sheetdb.io/api/v1/mggyainc2nvie" method="post" id="sheetdb-form" >
            <!-- Step 1 -->
            <div class="step active" id="step1">
                <label class="warning">For any issues, contact us at 8871505785 <br><br>[If you do not wish to participate in a specific event, leave its entries blank]
                </label>

                <label for="x1">Name of School:</label>
                <input type="text" name="data[school_name]" placeholder= "Required" required><br><br>
                

                <label for="y1">Email Address:</label>
                <input type="text" name="data[email_address]" placeholder= "Required" required><br><br>

                <label for="z1">Name of Teacher:</label>
                <input type="text"  name="data[teacher_name]" placeholder= "Required" required><br><br>

                <label for="z2">Contact Number of Teacher:</label>
                <input type="text"  name="data[teacher_contact]" placeholder= "Required" required><br><br>

                <button type="button" class="button" onclick="nextStep()">></button>
            </div>

            <!-- Step 2 -->
            <div class="step" id="step2">
                <h2>(C)ONCOCT</h2>
              
                <label for="x2">Participant 1:</label>
                <input type="text"  name="data[concoct_p1]" placeholder="Name"><br><br>
                <input type="text" name="data[concoct_p1_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[concoct_p1_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <label for="y2">Participant 2:</label>
                <input type="text"  name="data[concoct_p2]" placeholder="Name"><br><br>
                <input type="text"  name="data[concoct_p2_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[concoct_p2_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <label for="z3">Participant 3:</label>
                <input type="text"  name="data[concoct_p3]" placeholder="Name"><br><br>            
                <input type="text"  name="data[concoct_p3_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[concoct_p3_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <button type="button" class="button" onclick="prevStep()"><</button>
                <button type="button" class="button" onclick="nextStep()">></button>
            </div>

            <!-- Step 3 -->
            <div class="step" id="step3">
                <h2>(C)LICK</h2>
                <label for="x3">Participant 1:</label>
                <input type="text" name="data[click_p1]" placeholder="Name"><br><br>
                <input type="text" name="data[click_p1_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[click_p1_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="1">6</option>
                    <option value="2">7</option>
                    <option value="3">8</option>
                </select>

                <label for="y3">Participant 2:</label>
                <input type="text"  name="data[click_p2]" placeholder="Name"><br><br>
                <input type="text" name="data[click_p2_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[click_p2_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="1">6</option>
                    <option value="2">7</option>
                    <option value="3">8</option>
                </select>

                <label for="z4">Participant 3:</label>
                <input type="text"  name="data[click_p3]" placeholder="Name"><br><br>
                <input type="text" name="data[click_p3_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[click_p3_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="1">6</option>
                    <option value="2">7</option>
                    <option value="3">8</option>
                </select>

                <button type="button" class="button" onclick="prevStep()"><</button>
                <button type="button" class="button" onclick="nextStep()">></button>
            </div>

            <!-- Step 4 -->
            <div class="step" id="step4">
                <h2>(C)IFI</h2>
                <label for="x4">Participant 1:</label>
                <input type="text"  name="data[cifi_p1]" placeholder="Name"><br><br>
                <input type="text" name="data[cifi_p1_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[cifi_p1_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <label for="y4">Participant 2:</label>
                <input type="text"  name="data[cifi_p2]" placeholder="Name"><br><br>
                <input type="text" name="data[cifi_p2_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[cifi_p2_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <label for="y4">Participant 3:</label>
                <input type="text"  name="data[cifi_p3]" placeholder="Name"><br><br>
                <input type="text" name="data[cifi_p3_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[cifi_p3_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <label for="y4">Participant 4:</label>
                <input type="text"  name="data[cifi_p4]" placeholder="Name"><br><br>
                <input type="text" name="data[cifi_p4_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[cifi_p4_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <button type="button" class="button" onclick="prevStep()"><</button>
                <button type="button" class="button" onclick="nextStep()">></button>
            </div>

            <!-- Step 5 -->
            <div class="step" id="step5">
                <h2>(C)ODE</h2>
                <label for="x5">Participant 1:</label>
                <input type="text" name="data[code_p1]" placeholder="Name"><br><br>
                <input type="text" name="data[code_p1_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[code_p1_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <label for="y5">Participant 2:</label>
                <input type="text"  name="data[code_p2]" placeholder="Name"><br><br>
                <input type="text" name="data[code_p2_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[code_p2_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <button type="button" class="button" onclick="prevStep()"><</button>
                <button type="button" class="button" onclick="nextStep()">></button>
            </div>

            <!-- Step 6 -->
            <div class="step" id="step6">
                <h2>(C)OMIQUE</h2>
                <label for="x6">Participant 1:</label>
                <input type="text"  name="data[comique_p1]" placeholder="Name"><br><br>
                <input type="text" name="data[comique_p1_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[comique_p1_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <label for="y6">Participant 2:</label>
                <input type="text"  name="data[comique_p2]" placeholder="Name"><br><br>
                <input type="text" name="data[comique_p2_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[comique_p2_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <button type="button" class="button" onclick="prevStep()"><</button>
                <button type="button" class="button" onclick="nextStep()">></button>
            </div>

            <!-- Step 7 -->
            <div class="step" id="step7">
                <h2>(C)ROSSHAIR</h2>
                <label for="x7">Participant 1:</label>
                <input type="text"  name="data[crosshair_p1]" placeholder="Name"><br><br>
                <input type="text" name="data[crosshair_p1_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[crosshair_p1_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <label for="y7">Participant 2:</label>
                <input type="text" name="data[crosshair_p2]" placeholder="Name"><br><br>
                <input type="text" name="data[crosshair_p2_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[crosshair_p2_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>
                
                <label for="z5">Participant 3:</label>
                <input type="text"  name="data[crosshair_p3]" placeholder="Name"><br><br>
                <input type="text" name="data[crosshair_p3_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[crosshair_p3_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <label for="z6">Participant 4:</label>
                <input type="text"  name="data[crosshair_p4]" placeholder="Name"><br><br>
                <input type="text" name="data[crosshair_p4_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[crosshair_p4_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <label for="z7">Participant 5:</label>
                <input type="text" name="data[crosshair_p5]" placeholder="Name"><br><br>
                <input type="text" name="data[crosshair_p5_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[crosshair_p5_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <label for="z8">Participant 6:</label>
                <input type="text"  name="data[crosshair_p6]" placeholder="Name"><br><br>
                <input type="text" name="data[crosshair_p6_no]" placeholder="Contact Number"><br><br>
                <select class = "selector_menu" name="data[crosshair_p6_cls]" id="cls">         
                    <option value="0" disabled selected>Class</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                </select>

                <button type="button" class="button" onclick="prevStep()"><</button>
                <button type="submit" class="button">SUBMIT</button>
            </div>
        </form>
    </div>
    
    <div class="progress-bar">
        <div class="progress-bar-fill" id="progressBarFill"></div>
    </div>

    <div id="blob-form"></div>
    <div class="cursor-container">
        <div class="cursor-dot" data-cursor-dot></div>
        <div class="cursor-outline" data-cursor-outline></div>
    </div>

    <script src="../scripts/blob.js"></script>
    <script src="../scripts/cursor.js"></script>
    <script>
        var form = document.getElementById("sheetdb-form");

        form.addEventListener("submit", (e) => {
            e.preventDefault();

            var isValid = form.checkValidity();
            if (!isValid) {
                alert("Please fill in all required fields.");
                return;
            }
            // Show the loading screen
            document.getElementById("loading-screen").style.display = "flex";
            
            var formData = new FormData(form);
            
            // Convert formData to JSON format for SheetDB
            var object = {};
            formData.forEach((value, key) => {
                if (!object[key]) {
                    object[key] = value;
                }
            });
            var json = JSON.stringify({ data: [object] });

            console.log("Form Data:", json); // Log the payload to be sent

            fetch(form.action, {
                method: "POST",
                headers: {
                    'Content-Type': 'application/json'
                },
                body: json,
            })
            .then((response) => {
                console.log("Response Status:", response.status); // Log the response status
                if (!response.ok) {
                    return response.json().then((errorData) => {
                        // Hide the loading screen in case of error
                        document.getElementById("loading-screen").style.display = "none";
                        // Handle error
                        // $('#failed').modal('show');
                    });
                }

                
                document.getElementById('FORM').style.display = 'none';
                document.getElementById('register_title').style.display = 'none';
                document.getElementById('divider').style.display = 'none';
                document.getElementById("loading-screen").style.display = "none";
                document.getElementById('success-screen').style.display = 'block';
            })
            .catch((error) => {
                console.error("Error:", error);
                // Hide the loading screen in case of error
                document.getElementById("loading-screen").style.display = "none";
                // Handle error
                // $('#failed').modal('show');
            });
        });
    </script>
   </div>
</body>
</html>
